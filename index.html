<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
		/>
		<meta name="theme-color" content="#000000" />
		<title>GHHS-NOTEBOOK</title>
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
		/>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
				-webkit-tap-highlight-color: transparent;
			}

			body {
				background: #000000;
				color: rgba(255, 255, 255, 0.9);
				min-height: 100vh;
				line-height: 1.5;
				overflow-x: hidden;
				padding: 0;
			}

			.app-container {
				max-width: 100%;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				background: #000000;
			}

			/* –õ–æ–≥–æ—Ç–∏–ø –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ */
			.app-header {
				padding: 20px;
				padding-bottom: 10px;
			}

			.app-title {
				font-weight: 800;
				font-size: 28px;
				letter-spacing: -0.5px;
				display: flex;
			}

			.app-title-ghhs {
				color: #ffffff;
			}

			.app-title-notebook {
				color: #00f3ff;
				text-shadow: 0 0 5px rgba(0, 243, 255, 0.3);
				margin-left: 2px;
			}

			/* –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
			.main-content {
				flex: 1;
				padding: 20px;
				padding-top: 0;
			}

			/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–º–µ—Ç–æ–∫ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º —Å—Ç–µ–∫–ª–∞ */
			.notes-container {
				display: grid;
				grid-template-columns: 1fr;
				gap: 16px;
				margin-top: 20px;
			}

			/* –≠—Ñ—Ñ–µ–∫—Ç —Å—Ç–µ–∫–ª–∞ –¥–ª—è –∑–∞–º–µ—Ç–æ–∫ */
			.note-card {
				background: rgba(20, 20, 20, 0.7);
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				border-radius: 16px;
				padding: 20px;
				position: relative;
				overflow: hidden;
				border: 1px solid rgba(255, 255, 255, 0.1);
				box-shadow: 0 4px 24px rgba(0, 0, 0, 0.5);
				cursor: pointer;
				transition: transform 0.2s, box-shadow 0.2s;
			}

			/* –ù–µ–æ–Ω–æ–≤–∞—è —Ä–∞–º–∫–∞ */
			.note-card::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				border-radius: 16px;
				padding: 1px;
				background: linear-gradient(
					135deg,
					rgba(255, 255, 255, 0.2) 0%,
					rgba(255, 255, 255, 0.05) 50%,
					rgba(255, 255, 255, 0.2) 100%
				);
				-webkit-mask: linear-gradient(#fff 0 0) content-box,
					linear-gradient(#fff 0 0);
				-webkit-mask-composite: xor;
				mask-composite: exclude;
				pointer-events: none;
			}

			.note-card:active {
				transform: scale(0.98);
			}

			.note-title {
				font-size: 18px;
				font-weight: 600;
				color: #ffffff;
				margin-bottom: 10px;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
			}

			.note-content {
				font-size: 14px;
				color: rgba(255, 255, 255, 0.7);
				overflow: hidden;
				display: -webkit-box;
				-webkit-line-clamp: 3;
				-webkit-box-orient: vertical;
				margin-bottom: 12px;
				line-height: 1.5;
			}

			.note-footer {
				display: flex;
				justify-content: space-between;
				align-items: center;
				font-size: 12px;
				color: rgba(255, 255, 255, 0.5);
			}

			/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è */
			.add-button {
				position: fixed;
				bottom: 25px;
				right: 25px;
				width: 60px;
				height: 60px;
				border-radius: 50%;
				background: rgba(20, 20, 20, 0.8);
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				color: #00f3ff;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 28px;
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.7);
				cursor: pointer;
				z-index: 100;
				border: 1px solid rgba(0, 243, 255, 0.3);
				transition: all 0.2s;
			}

			.add-button:active {
				transform: scale(0.95);
				box-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
			}

			/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
			.modal {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.9);
				display: none;
				justify-content: center;
				align-items: center;
				z-index: 1000;
				padding: 20px;
			}

			.modal-content {
				background: rgba(15, 15, 15, 0.9);
				backdrop-filter: blur(15px);
				-webkit-backdrop-filter: blur(15px);
				width: 100%;
				max-width: 500px;
				border-radius: 16px;
				border: 1px solid rgba(255, 255, 255, 0.1);
				overflow: hidden;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
				position: relative;
			}

			.modal-content::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				border-radius: 16px;
				padding: 1px;
				background: linear-gradient(
					135deg,
					rgba(255, 255, 255, 0.2) 0%,
					rgba(255, 255, 255, 0.05) 50%,
					rgba(255, 255, 255, 0.2) 100%
				);
				-webkit-mask: linear-gradient(#fff 0 0) content-box,
					linear-gradient(#fff 0 0);
				-webkit-mask-composite: xor;
				mask-composite: exclude;
				pointer-events: none;
			}

			.modal-header {
				padding: 20px;
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			}

			.modal-title {
				font-size: 20px;
				font-weight: 600;
				color: #ffffff;
			}

			.modal-body {
				padding: 20px;
			}

			.input-group {
				margin-bottom: 20px;
			}

			.modal-input {
				width: 100%;
				background: rgba(10, 10, 10, 0.7);
				border: 1px solid rgba(255, 255, 255, 0.1);
				border-radius: 10px;
				padding: 15px;
				color: #ffffff;
				font-size: 16px;
				outline: none;
			}

			.modal-input:focus {
				border-color: rgba(0, 243, 255, 0.5);
				box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
			}

			.modal-textarea {
				min-height: 200px;
				resize: vertical;
			}

			.modal-footer {
				padding: 15px 20px;
				border-top: 1px solid rgba(255, 255, 255, 0.1);
				display: flex;
				justify-content: space-between;
				gap: 10px;
			}

			.btn {
				padding: 10px 15px;
				border-radius: 8px;
				font-size: 14px;
				font-weight: 500;
				cursor: pointer;
				border: none;
				transition: all 0.2s;
				flex: 1;
			}

			.btn-primary {
				background: rgba(0, 243, 255, 0.15);
				color: #00f3ff;
				border: 1px solid rgba(0, 243, 255, 0.2);
			}

			.btn-primary:active {
				background: rgba(0, 243, 255, 0.25);
				box-shadow: 0 0 8px rgba(0, 243, 255, 0.3);
			}

			.btn-secondary {
				background: rgba(255, 255, 255, 0.08);
				color: rgba(255, 255, 255, 0.8);
				border: 1px solid rgba(255, 255, 255, 0.1);
			}

			.btn-secondary:active {
				background: rgba(255, 255, 255, 0.15);
			}

			.btn-danger {
				background: rgba(255, 50, 50, 0.15);
				color: rgba(255, 100, 100, 0.9);
				border: 1px solid rgba(255, 50, 50, 0.2);
			}

			.btn-danger:active {
				background: rgba(255, 50, 50, 0.25);
				box-shadow: 0 0 8px rgba(255, 50, 50, 0.3);
			}

			/* –°–æ—Å—Ç–æ—è–Ω–∏–µ "–Ω–µ—Ç –∑–∞–º–µ—Ç–æ–∫" */
			.empty-state {
				text-align: center;
				padding: 60px 20px;
				color: rgba(255, 255, 255, 0.5);
			}

			.empty-icon {
				font-size: 48px;
				margin-bottom: 16px;
				opacity: 0.5;
			}

			.empty-state p {
				margin-bottom: 8px;
			}

			/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.note-card {
				animation: fadeIn 0.3s ease-out;
			}

			/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
			@media (min-width: 768px) {
				.notes-container {
					grid-template-columns: repeat(2, 1fr);
				}

				.app-header {
					padding: 30px;
					padding-bottom: 20px;
				}

				.main-content {
					padding: 30px;
					padding-top: 0;
				}
			}

			@media (min-width: 1024px) {
				.notes-container {
					grid-template-columns: repeat(3, 1fr);
				}
			}

			/* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è OLED */
			.oled-dark {
				background: #000000;
			}

			.oled-dark-gray {
				background: #0a0a0a;
			}

			/* –°–∫—Ä—ã—Ç–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ */
			::-webkit-scrollbar {
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="app-container">
			<div class="app-header">
				<div class="app-title">
					<span class="app-title-ghhs">GHHS-</span>
					<span class="app-title-notebook">NOTEBOOK</span>
				</div>
			</div>

			<div class="main-content">
				<div class="notes-container" id="notesContainer">
					<div class="empty-state" id="emptyState">
						<div class="empty-icon">üìù</div>
						<p>–ó–∞–º–µ—Ç–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>
						<p>–ù–∞–∂–º–∏—Ç–µ + —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é</p>
					</div>
				</div>
			</div>

			<button class="add-button" id="addButton">+</button>

			<div class="modal" id="noteModal">
				<div class="modal-content">
					<div class="modal-header">
						<h2 class="modal-title" id="modalTitle">–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞</h2>
					</div>
					<div class="modal-body">
						<div class="input-group">
							<input
								type="text"
								class="modal-input"
								id="noteTitle"
								placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫"
								maxlength="50"
							/>
						</div>
						<div class="input-group">
							<textarea
								class="modal-input modal-textarea"
								id="noteContent"
								placeholder="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏..."
								maxlength="2000"
							></textarea>
						</div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-danger" id="deleteButton">–£–¥–∞–ª–∏—Ç—å</button>
						<button class="btn btn-secondary" id="cancelButton">–û—Ç–º–µ–Ω–∞</button>
						<button class="btn btn-primary" id="saveButton">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
					</div>
				</div>
			</div>
		</div>

		<script>
			document.addEventListener('DOMContentLoaded', function () {
				// –≠–ª–µ–º–µ–Ω—Ç—ã DOM
				const notesContainer = document.getElementById('notesContainer')
				const emptyState = document.getElementById('emptyState')
				const addButton = document.getElementById('addButton')
				const noteModal = document.getElementById('noteModal')
				const cancelButton = document.getElementById('cancelButton')
				const saveButton = document.getElementById('saveButton')
				const deleteButton = document.getElementById('deleteButton')
				const noteTitle = document.getElementById('noteTitle')
				const noteContent = document.getElementById('noteContent')
				const modalTitle = document.getElementById('modalTitle')

				let notes = loadNotesFromStorage()
				let currentNoteId = null
				let isEditMode = false

				// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
				function init() {
					displayNotes()
					setupEventListeners()
				}

				// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
				function setupEventListeners() {
					addButton.addEventListener('click', openNewNoteModal)
					cancelButton.addEventListener('click', closeNoteModal)
					saveButton.addEventListener('click', saveNote)
					deleteButton.addEventListener('click', deleteNote)

					// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏
					noteModal.addEventListener('click', function (event) {
						if (event.target === noteModal) {
							closeNoteModal()
						}
					})

					// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
					document.addEventListener('keydown', function (event) {
						if (event.key === 'Escape') {
							closeNoteModal()
						}
					})
				}

				// –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–º–µ—Ç–æ–∫ –∏–∑ localStorage
				function loadNotesFromStorage() {
					try {
						const notes = localStorage.getItem('ghhs-notes')
						return notes ? JSON.parse(notes) : []
					} catch (error) {
						console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error)
						return []
					}
				}

				// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ –≤ localStorage
				function saveNotesToStorage(notes) {
					try {
						localStorage.setItem('ghhs-notes', JSON.stringify(notes))
						return true
					} catch (error) {
						console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error)
						return false
					}
				}

				// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID
				function generateId() {
					return (
						Date.now().toString(36) + Math.random().toString(36).substr(2, 5)
					)
				}

				// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫
				function displayNotes() {
					if (notes.length === 0) {
						emptyState.style.display = 'block'
						notesContainer.innerHTML = ''
						notesContainer.appendChild(emptyState)
						return
					}

					emptyState.style.display = 'none'
					notesContainer.innerHTML = ''

					notes.forEach(note => {
						const noteElement = createNoteElement(note)
						notesContainer.appendChild(noteElement)
					})
				}

				// –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞–º–µ—Ç–∫–∏
				function createNoteElement(note) {
					const noteElement = document.createElement('div')
					noteElement.classList.add('note-card')
					noteElement.setAttribute('data-id', note.id)

					const titleElement = document.createElement('div')
					titleElement.classList.add('note-title')
					titleElement.textContent = note.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'

					const contentElement = document.createElement('div')
					contentElement.classList.add('note-content')
					contentElement.textContent = note.content || ''

					const footerElement = document.createElement('div')
					footerElement.classList.add('note-footer')

					const dateElement = document.createElement('div')
					dateElement.classList.add('note-date')
					dateElement.textContent = formatDate(note.date)

					footerElement.appendChild(dateElement)

					noteElement.appendChild(titleElement)
					noteElement.appendChild(contentElement)
					noteElement.appendChild(footerElement)

					noteElement.addEventListener('click', () => {
						openEditNoteModal(note.id)
					})

					return noteElement
				}

				// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
				function formatDate(dateString) {
					const date = new Date(dateString)
					const now = new Date()
					const diffTime = Math.abs(now - date)
					const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))

					if (diffDays === 0) {
						return (
							'–°–µ–≥–æ–¥–Ω—è, ' +
							date.toLocaleTimeString('ru-RU', {
								hour: '2-digit',
								minute: '2-digit',
							})
						)
					} else if (diffDays === 1) {
						return (
							'–í—á–µ—Ä–∞, ' +
							date.toLocaleTimeString('ru-RU', {
								hour: '2-digit',
								minute: '2-digit',
							})
						)
					} else {
						return date.toLocaleDateString('ru-RU', {
							day: '2-digit',
							month: '2-digit',
							year: 'numeric',
						})
					}
				}

				// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –Ω–æ–≤–æ–π –∑–∞–º–µ—Ç–∫–∏
				function openNewNoteModal() {
					isEditMode = false
					currentNoteId = null
					modalTitle.textContent = '–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞'
					noteTitle.value = ''
					noteContent.value = ''
					deleteButton.style.display = 'none'
					noteModal.style.display = 'flex'
					setTimeout(() => noteTitle.focus(), 100)
				}

				// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
				function openEditNoteModal(noteId) {
					const note = notes.find(n => n.id === noteId)
					if (!note) return

					isEditMode = true
					currentNoteId = noteId
					modalTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É'
					noteTitle.value = note.title || ''
					noteContent.value = note.content || ''
					deleteButton.style.display = 'block'
					noteModal.style.display = 'flex'
					setTimeout(() => noteTitle.focus(), 100)
				}

				// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
				function saveNote() {
					const title = noteTitle.value.trim()
					const content = noteContent.value.trim()

					if (!content) {
						alert('–ó–∞–º–µ—Ç–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π!')
						return
					}

					const newNote = {
						id: isEditMode ? currentNoteId : generateId(),
						title: title,
						content: content,
						date: new Date().toISOString(),
					}

					if (isEditMode) {
						// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏
						const index = notes.findIndex(n => n.id === currentNoteId)
						if (index !== -1) {
							notes[index] = newNote
						}
					} else {
						// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–º–µ—Ç–∫–∏
						notes.unshift(newNote)
					}

					// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
					if (saveNotesToStorage(notes)) {
						displayNotes()
						closeNoteModal()
					} else {
						alert('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!')
					}
				}

				// –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
				function deleteNote() {
					if (!currentNoteId) return

					if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–º–µ—Ç–∫—É?')) {
						notes = notes.filter(note => note.id !== currentNoteId)

						if (saveNotesToStorage(notes)) {
							displayNotes()
							closeNoteModal()
						} else {
							alert('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è!')
						}
					}
				}

				// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
				function closeNoteModal() {
					noteModal.style.display = 'none'
				}

				// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
				init()
			})
		</script>
	</body>
</html>
